# Проект с рабочим названием single well study online platform
По сути своей SPA приложение.
Backend часть представляет собой приложение node.js (база данных Mongo DB, express для упрощения). Получает и обрабатывает запросы с клиента, и представляет собой прослойку для базы данных. Особой бизнеслогики в приложении серверной части нет. Запросы разбиты на пути (папка routes). Модели базы данных лежат в папке models. В папке middleware - миддлвары для авторизации, которые по сути из токена достают id пользователя и еще какие-то данные и встраивают его в тело запроса для обработки в раутах. В папке config - настройки базы данных, порта, и могут быть некоторые повторяющиеся вещи. Настройка адреса api у frontend части так же берется из этой папки для удобства. Хотя решение все равно работает так себе. Настройка описана в readme.md в папке client.

Frontend. В основе react-redux-starter-kit. (https://github.com/fullstack-development/react-redux-starter-kit)
Там достаточно подробное описание в доке по поводу архитектуры и используемых зависимостей. Если коротко, то стек React, Redux, ReactRouter, Redux Saga для асинхронных действий (запросы на сервер). Сервис для запросов с использованием axios. Все написано на Type Script.

## Для разворачивания на сервере
Проект клонируется на сервер (ubuntu в нашем случае) из git-репозитория в папку /single-well-study-online. Устанавливаются зависимости для клиента и сервера. Из корня запускается файл deploy.sh, который делает билд фронтенд-части в папку build, создает докерконтейнер (с nginx и sertbot для https) и запускает сервер. База данных установлена на сервере тоже в docker, настройки в папке config.

## NPM scripts
Более подробно скрипты можно посмотреть в package.json

### Установка зависимостей
- ```npm i``` на сервер
- ```npm run client:install``` на клиент

### Для локального запуска (адрес смотреть в консоли при запуске)
- ```npm run dev``` запускает фронт и бэк, база данных должна быть установлена локально, адрес прописан в папке config.
